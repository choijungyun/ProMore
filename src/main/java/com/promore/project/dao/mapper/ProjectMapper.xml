<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="dto.projectDto">

	<resultMap type="com.promore.project.dto.ProjectDto" id="project_dto">
		<result column="pro_num" property="proNum"/>
		<result column="pro_name" property="proName"/>
		<result column="pro_content" property="proContent"/>
		<result column="pro_manager" property="proManager"/>
		<result column="pro_state" property="proState"/>
		<result column="pro_max" property="proMax"/>
		<result column="pro_cnt" property="proCnt"/>
	</resultMap>


<insert id="project_insert" parameterType="com.promore.project.dto.ProjectDto">
		insert into project(
			pro_num,
			pro_name,
			pro_content,
			pro_manager,
			pro_state,
			pro_max,
			pro_cnt
		)
		values(
			project_pro_num_seq.nextval,
			#{proName},
			#{proContent},
			#{proManager},
			#{proState},
			#{proMax},
			#{proCnt}
		)
</insert>

<select id="project_count" resultType="int">
	select count(*) from project
</select>

<select id="project_list" resultMap="project_dto">
	select * from project
</select>

<select id="project_state" parameterType="String" resultType="java.lang.Integer" >
	select apl_num from project_apply where apl_mem_id=#{aplMemId}
</select>

<!-- <select id="project_list" parameterType="Integer" resultType="com.promore.project.dto.ProjectDto">
	select * from project
</select> -->
<select id="project_select" parameterType="Integer" resultType="java.util.HashMap">
	select * from project where pro_num=#{proNum} 
</select>

</mapper>